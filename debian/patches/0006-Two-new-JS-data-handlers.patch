From: Johannes Willkomm <j.willkomm@fionec.de>
Date: Thu, 1 Sep 2022 14:19:17 +0200
Subject: Two new JS data handlers

---
 xc/login/static/js/xc.js | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/xc/login/static/js/xc.js b/xc/login/static/js/xc.js
index 235fc98..8b4aea5 100644
--- a/xc/login/static/js/xc.js
+++ b/xc/login/static/js/xc.js
@@ -521,6 +521,23 @@ var psSingleField = function(data) {
 var psText = function(data) {
     return '<span>' + data + '</span>'
 }
+xc.psNonEmpty = function(a, b) {
+    return function(data) {
+	if (data) { return a } else { return b }
+    }
+}
+xc.psNonEmptySetClass = function(a, b) {
+    return function(data, el) {
+	if (data) {
+	    el.classList.add(a)
+	    el.classList.remove(b)
+	} else {
+	    el.classList.add(b)
+	    el.classList.remove(a)
+	}
+	return {noupdate: true}
+    }
+}
 
 xc.getCSRFToken = function() {
     var csrf = ''
